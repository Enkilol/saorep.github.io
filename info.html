<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Informazioni sul prodotto</title>
  </head>
  <body>
    <div class="container p-5 my-5">
      <h1>Informazioni sul prodotto</h1>
      <div>
        <h2 id="product-name"></h2>
        <p>Ingredienti:</p>
        <p id="ingredients"></p>
      </div>
    </div>
    <script>
      const queryString = new URLSearchParams(window.location.search);
      const code = queryString.get("code");

      fetch(`https://world.openfoodfacts.org/api/v0/product/${code}.json`)
        .then(response => response.json())
        .then(data => {
          const productName = data.product.product_name;
          const ingredients = data.product.ingredients_text;
          // Mostra i dati sul prodotto
          document.getElementById("product-name").innerHTML = productName;
          document.getElementById("ingredients").innerHTML = ingredients;
        })
        .catch(error => console.error(error));
    </script>
  </body>
</html>
